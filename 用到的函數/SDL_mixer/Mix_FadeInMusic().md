
----
`Mix_FadeInMusic()` 是 [[SDL_mixer]] 库中用于渐入播放音乐的函数之一。它允许你以渐入的方式播放已加载的音乐文件，并提供了一些参数来控制播放行为和渐入效果。
### 函数原型

```cpp
int Mix_FadeInMusic(Mix_Music *music, int loops, int ms);
```
### 参数
- `music`: 指向 `Mix_Music` 结构体的指针，表示要播放的音乐文件。
- `loops`: 表示音乐播放的循环次数。可以设置为以下值之一：
  - `-1`：表示无限循环播放音乐。
  - `0`：表示播放音乐一次，不循环。
  - 正整数：表示播放音乐指定次数后停止。
- `ms`: 表示渐入效果的持续时间，以毫秒为单位。在这段时间内，音乐的音量将从零逐渐增加到最大音量。
### 返回值
- 如果音乐成功开始渐入播放，则返回 `0`。
- 如果发生错误或音乐未能播放，则返回 `-1`，并设置 [[SDL_mixer]] 错误信息，可以通过 `Mix_GetError()` 函数获取错误信息。
### 注意事项
- 在调用 `Mix_FadeInMusic()` 函数之前，需要确保已经加载了要播放的音乐文件。
- 只能同时播放一首音乐，如果调用该函数播放一首新的音乐，之前正在播放的音乐将会停止。
- 渐入效果的持续时间由 `ms` 参数控制，单位为毫秒。
- 如果要播放循环音乐，请确保 `loops` 参数设置为 `-1`。
### 示例用法
```cpp
// 假设已经加载了音乐文件到 m_BGM 指向的 Mix_Music 结构体中
int loop = -1; // 无限循环播放
int fadeDuration = 2000; // 渐入效果持续时间为 2000 毫秒
Mix_FadeInMusic(m_BGM.get(), loop, fadeDuration);
```
以上示例代码演示了如何使用 `Mix_FadeInMusic()` 函数以渐入的方式播放已加载的音乐文件，并设置其为无限循环播放。在播放过程中，音乐的音量将在 2000 毫秒内逐渐增加到最大音量。